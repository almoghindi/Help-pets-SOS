"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[299],{2551:function(e,n,t){var r=t(885),a=t(2791),c=t(1087),i=t(5316),s=t(3360),o=t(184);n.Z=function(e){var n=(0,a.useState)(e.show),t=(0,r.Z)(n,2),l=t[0],u=t[1];return(0,o.jsxs)(i.Z,{show:l,onHide:function(){return u(!1)},variant:e.variant,children:[(0,o.jsx)(i.Z.Header,{closeButton:!0,children:(0,o.jsx)(i.Z.Title,{children:e.title})}),(0,o.jsx)(i.Z.Body,{children:e.body}),(0,o.jsxs)(i.Z.Footer,{children:[(0,o.jsx)(c.rU,{to:e.secondLink,children:(0,o.jsx)(s.Z,{variant:"secondary",onClick:function(){return u(!1)},children:e.btnSecondLink||"Close"})}),(0,o.jsx)(c.rU,{to:e.link,children:(0,o.jsx)(s.Z,{variant:"primary",onClick:function(){return u(!1)},children:e.btnLink})})]})]})}},2299:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var r=t(2791),a=t(4165),c=t(5861),i=t(885),s=t(8287),o=t(5152),l=t(7689),u=t(1665),d=t(9140),f=t(1413),v=t(5987),m=t(9007);var h=function(e,n){var t=(0,r.useRef)(!0);(0,r.useEffect)((function(){if(!t.current)return e();t.current=!1}),n)},p=t(7904),x=t(5746),Z=t(1683),b=Math.pow(2,31)-1;function j(e,n,t){var r=t-Date.now();e.current=r<=b?setTimeout(n,r):setTimeout((function(){return j(e,n,t)}),b)}function N(){var e=(0,x.Z)(),n=(0,r.useRef)();return(0,Z.Z)((function(){return clearTimeout(n.current)})),(0,r.useMemo)((function(){var t=function(){return clearTimeout(n.current)};return{set:function(r,a){void 0===a&&(a=0),e()&&(t(),a<=b?n.current=setTimeout(r,a):j(n,r,Date.now()+a))},clear:t}}),[])}var g=t(1396),y=t(1694),k=t.n(y),C=t(239),w=(0,t(6543).Z)("carousel-caption"),T=t(162),I=t(184),S=["as","bsPrefix","className"],P=r.forwardRef((function(e,n){var t=e.as,r=void 0===t?"div":t,a=e.bsPrefix,c=e.className,i=(0,v.Z)(e,S),s=k()(c,(0,T.vE)(a,"carousel-item"));return(0,I.jsx)(r,(0,f.Z)((0,f.Z)({ref:n},i),{},{className:s}))}));P.displayName="CarouselItem";var E=P,L=t(1701),M=t(1380),R=t(7202),O=t(4083),U=["as","bsPrefix","slide","fade","controls","indicators","indicatorLabels","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","variant","className","children"],D={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:(0,I.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:(0,I.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};var F=r.forwardRef((function(e,n){var t=(0,C.Ch)(e,{activeIndex:"onSelect"}),a=t.as,c=void 0===a?"div":a,s=t.bsPrefix,o=t.slide,l=t.fade,u=t.controls,d=t.indicators,x=t.indicatorLabels,Z=t.activeIndex,b=t.onSelect,j=t.onSlide,y=t.onSlid,w=t.interval,S=t.keyboard,P=t.onKeyDown,E=t.pause,D=t.onMouseOver,F=t.onMouseOut,q=t.wrap,A=t.touch,B=t.onTouchStart,H=t.onTouchMove,z=t.onTouchEnd,K=t.prevIcon,X=t.prevLabel,G=t.nextIcon,J=t.nextLabel,V=t.variant,$=t.className,Q=t.children,W=(0,v.Z)(t,U),Y=(0,T.vE)(s,"carousel"),_=(0,T.SC)(),ee=(0,r.useRef)(null),ne=(0,r.useState)("next"),te=(0,i.Z)(ne,2),re=te[0],ae=te[1],ce=(0,r.useState)(!1),ie=(0,i.Z)(ce,2),se=ie[0],oe=ie[1],le=(0,r.useState)(!1),ue=(0,i.Z)(le,2),de=ue[0],fe=ue[1],ve=(0,r.useState)(Z||0),me=(0,i.Z)(ve,2),he=me[0],pe=me[1];(0,r.useEffect)((function(){de||Z===he||(ee.current?ae(ee.current):ae((Z||0)>he?"next":"prev"),o&&fe(!0),pe(Z||0))}),[Z,de,he,o]),(0,r.useEffect)((function(){ee.current&&(ee.current=null)}));var xe,Ze=0;(0,L.Ed)(Q,(function(e,n){++Ze,n===Z&&(xe=e.props.interval)}));var be=(0,p.Z)(xe),je=(0,r.useCallback)((function(e){if(!de){var n=he-1;if(n<0){if(!q)return;n=Ze-1}ee.current="prev",null==b||b(n,e)}}),[de,he,b,q,Ze]),Ne=(0,m.Z)((function(e){if(!de){var n=he+1;if(n>=Ze){if(!q)return;n=0}ee.current="next",null==b||b(n,e)}})),ge=(0,r.useRef)();(0,r.useImperativeHandle)(n,(function(){return{element:ge.current,prev:je,next:Ne}}));var ye=(0,m.Z)((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var n=getComputedStyle(e);return"none"!==n.display&&"hidden"!==n.visibility&&"none"!==getComputedStyle(e.parentNode).display}(ge.current)&&(_?je():Ne())})),ke="next"===re?"start":"end";h((function(){o||(null==j||j(he,ke),null==y||y(he,ke))}),[he]);var Ce="".concat(Y,"-item-").concat(re),we="".concat(Y,"-item-").concat(ke),Te=(0,r.useCallback)((function(e){(0,R.Z)(e),null==j||j(he,ke)}),[j,he,ke]),Ie=(0,r.useCallback)((function(){fe(!1),null==y||y(he,ke)}),[y,he,ke]),Se=(0,r.useCallback)((function(e){if(S&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(_?Ne(e):je(e));case"ArrowRight":return e.preventDefault(),void(_?je(e):Ne(e))}null==P||P(e)}),[S,P,je,Ne,_]),Pe=(0,r.useCallback)((function(e){"hover"===E&&oe(!0),null==D||D(e)}),[E,D]),Ee=(0,r.useCallback)((function(e){oe(!1),null==F||F(e)}),[F]),Le=(0,r.useRef)(0),Me=(0,r.useRef)(0),Re=N(),Oe=(0,r.useCallback)((function(e){Le.current=e.touches[0].clientX,Me.current=0,"hover"===E&&oe(!0),null==B||B(e)}),[E,B]),Ue=(0,r.useCallback)((function(e){e.touches&&e.touches.length>1?Me.current=0:Me.current=e.touches[0].clientX-Le.current,null==H||H(e)}),[H]),De=(0,r.useCallback)((function(e){if(A){var n=Me.current;Math.abs(n)>40&&(n>0?je(e):Ne(e))}"hover"===E&&Re.set((function(){oe(!1)}),w||void 0),null==z||z(e)}),[A,E,je,Ne,Re,w,z]),Fe=null!=w&&!se&&!de,qe=(0,r.useRef)();(0,r.useEffect)((function(){var e,n;if(Fe){var t=_?je:Ne;return qe.current=window.setInterval(document.visibilityState?ye:t,null!=(e=null!=(n=be.current)?n:w)?e:void 0),function(){null!==qe.current&&clearInterval(qe.current)}}}),[Fe,je,Ne,be,w,ye,_]);var Ae=(0,r.useMemo)((function(){return d&&Array.from({length:Ze},(function(e,n){return function(e){null==b||b(n,e)}}))}),[d,Ze,b]);return(0,I.jsxs)(c,(0,f.Z)((0,f.Z)({ref:ge},W),{},{onKeyDown:Se,onMouseOver:Pe,onMouseOut:Ee,onTouchStart:Oe,onTouchMove:Ue,onTouchEnd:De,className:k()($,Y,o&&"slide",l&&"".concat(Y,"-fade"),V&&"".concat(Y,"-").concat(V)),children:[d&&(0,I.jsx)("div",{className:"".concat(Y,"-indicators"),children:(0,L.UI)(Q,(function(e,n){return(0,I.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=x&&x.length?x[n]:"Slide ".concat(n+1),className:n===he?"active":void 0,onClick:Ae?Ae[n]:void 0,"aria-current":n===he},n)}))}),(0,I.jsx)("div",{className:"".concat(Y,"-inner"),children:(0,L.UI)(Q,(function(e,n){var t=n===he;return o?(0,I.jsx)(O.Z,{in:t,onEnter:t?Te:void 0,onEntered:t?Ie:void 0,addEndListener:M.Z,children:function(n,a){return r.cloneElement(e,(0,f.Z)((0,f.Z)({},a),{},{className:k()(e.props.className,t&&"entered"!==n&&Ce,("entered"===n||"exiting"===n)&&"active",("entering"===n||"exiting"===n)&&we)}))}}):r.cloneElement(e,{className:k()(e.props.className,t&&"active")})}))}),u&&(0,I.jsxs)(I.Fragment,{children:[(q||0!==Z)&&(0,I.jsxs)(g.Z,{className:"".concat(Y,"-control-prev"),onClick:je,children:[K,X&&(0,I.jsx)("span",{className:"visually-hidden",children:X})]}),(q||Z!==Ze-1)&&(0,I.jsxs)(g.Z,{className:"".concat(Y,"-control-next"),onClick:Ne,children:[G,J&&(0,I.jsx)("span",{className:"visually-hidden",children:J})]})]})]}))}));F.displayName="Carousel",F.defaultProps=D;var q=Object.assign(F,{Caption:w,Item:E}),A=t(9743),B=t(2677),H=["bsPrefix","size","vertical","className","as"],z=r.forwardRef((function(e,n){var t=e.bsPrefix,r=e.size,a=e.vertical,c=e.className,i=e.as,s=void 0===i?"div":i,o=(0,v.Z)(e,H),l=(0,T.vE)(t,"btn-group"),u=l;return a&&(u="".concat(l,"-vertical")),(0,I.jsx)(s,(0,f.Z)((0,f.Z)({},o),{},{ref:n,className:k()(c,u,r&&"".concat(l,"-").concat(r))}))}));z.displayName="ButtonGroup",z.defaultProps={vertical:!1,role:"group"};var K=z,X=t(3360),G=t(2551);function J(e){return(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(G.Z,{show:e.show,title:"Log in please !",body:"In order to add items to your cart you must log in first!",link:"/auth",btnLink:"Login Now"})})}var V=function(e){var n=(0,r.useContext)(u.V),t=(0,r.useState)(!1),o=(0,i.Z)(t,2),l=o[0],f=o[1],v=(0,s.x)().sendRequest,m=function(){var t=(0,c.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.isLoggedIn){t.next=5;break}return f(!0),t.abrupt("return");case 5:return t.prev=5,t.next=8,v("".concat("https://help-pets-sos-backend.herokuapp.com/api","/shop"),"POST",JSON.stringify({userId:n.userId,productId:e.id,imageUrl:e.imageUrl[0],title:e.title,secondTitle:e.secondTitle,price:e.price,quantity:e.quantity}),{"Content-Type":"application/json"});case 8:t.next=12;break;case 10:t.prev=10,t.t0=t.catch(5);case 12:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(){return t.apply(this,arguments)}}();return(0,I.jsxs)(I.Fragment,{children:[l&&(0,I.jsx)(J,{show:!0}),(0,I.jsx)(d.Z,{style:{margin:"3rem",background:"OldLace",display:"flex"},children:(0,I.jsxs)(A.Z,{className:"g-0",children:[(0,I.jsx)(B.Z,{lg:"5",children:(0,I.jsx)(q,{variant:"dark",className:"m-3 mt-100",style:{marginTop:"3rem"},children:e.imageUrl.map((function(e){return(0,I.jsx)(q.Item,{children:(0,I.jsx)("img",{style:{height:"30rem",width:"20rem",alignItems:"center"},className:"d-block w-100 text-center",src:e,alt:"First slide"})},e)}))})}),(0,I.jsxs)(B.Z,{lg:"7",className:"p-4",children:[(0,I.jsx)(d.Z.Title,{className:"fs-1",children:e.title}),(0,I.jsx)(d.Z.Title,{className:"fs-4 text-secondary",children:e.secondTitle}),(0,I.jsxs)(d.Z.Text,{className:"mt-5 fs-3",children:[e.price,"$"]}),(0,I.jsx)(d.Z.Text,{className:"mt-5 fs-5",children:e.description}),(0,I.jsxs)(K,{"aria-label":"Basic example",size:"lg",className:"mt-5",children:[(0,I.jsx)(X.Z,{variant:"outline-dark",onClick:e.handleMinus,children:"-"}),(0,I.jsx)(X.Z,{variant:"outline-dark",disabled:!0,children:e.quantity}),(0,I.jsx)(X.Z,{variant:"outline-dark",onClick:e.handlePlus,children:"+"})]}),(0,I.jsx)(X.Z,{className:"mt-5 ms-3",variant:"dark",size:"lg",onClick:m,children:"Add To Cart"})]})]})})]})},$=function(){var e=(0,r.useState)(1),n=(0,i.Z)(e,2),t=n[0],u=n[1],d=(0,r.useState)(),f=(0,i.Z)(d,2),v=f[0],m=f[1],h=(0,s.x)(),p=h.isLoading,x=h.error,Z=h.sendRequest,b=h.clearError,j=(0,l.UO)().productId;(0,r.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z("".concat("https://help-pets-sos-backend.herokuapp.com/api","/shop/").concat(j));case 3:n=e.sent,b(),m(n.product),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[Z,j]);return(0,I.jsxs)(I.Fragment,{children:[p&&(0,I.jsx)("div",{className:"center",children:(0,I.jsx)(o.Z,{})}),!p&&v&&(0,I.jsx)(V,{id:j,quantity:t,handleMinus:function(){t>1&&u((function(e){return e-1}))},handlePlus:function(){t<10&&u((function(e){return e+1}))},title:v.title,secondTitle:v.secondTitle,price:v.price,description:v.description,imageUrl:v.imageUrl},j),!p&&x&&(0,I.jsx)("div",{style:{textAlign:"center",marginTop:"17rem"},children:(0,I.jsx)("h1",{children:"Invalid Product !"})})]})},Q=function(){return(0,I.jsx)($,{})}},9140:function(e,n,t){t.d(n,{Z:function(){return P}});var r=t(1413),a=t(5987),c=t(1694),i=t.n(c),s=t(2791),o=t(162),l=t(6543),u=t(7472),d=t(184),f=["bsPrefix","className","variant","as"],v=s.forwardRef((function(e,n){var t=e.bsPrefix,c=e.className,s=e.variant,l=e.as,u=void 0===l?"img":l,v=(0,a.Z)(e,f),m=(0,o.vE)(t,"card-img");return(0,d.jsx)(u,(0,r.Z)({ref:n,className:i()(s?"".concat(m,"-").concat(s):m,c)},v))}));v.displayName="CardImg";var m=v,h=t(6040),p=["bsPrefix","className","as"],x=s.forwardRef((function(e,n){var t=e.bsPrefix,c=e.className,l=e.as,u=void 0===l?"div":l,f=(0,a.Z)(e,p),v=(0,o.vE)(t,"card-header"),m=(0,s.useMemo)((function(){return{cardHeaderBsPrefix:v}}),[v]);return(0,d.jsx)(h.Z.Provider,{value:m,children:(0,d.jsx)(u,(0,r.Z)((0,r.Z)({ref:n},f),{},{className:i()(c,v)}))})}));x.displayName="CardHeader";var Z=x,b=["bsPrefix","className","bg","text","border","body","children","as"],j=(0,u.Z)("h5"),N=(0,u.Z)("h6"),g=(0,l.Z)("card-body"),y=(0,l.Z)("card-title",{Component:j}),k=(0,l.Z)("card-subtitle",{Component:N}),C=(0,l.Z)("card-link",{Component:"a"}),w=(0,l.Z)("card-text",{Component:"p"}),T=(0,l.Z)("card-footer"),I=(0,l.Z)("card-img-overlay"),S=s.forwardRef((function(e,n){var t=e.bsPrefix,c=e.className,s=e.bg,l=e.text,u=e.border,f=e.body,v=e.children,m=e.as,h=void 0===m?"div":m,p=(0,a.Z)(e,b),x=(0,o.vE)(t,"card");return(0,d.jsx)(h,(0,r.Z)((0,r.Z)({ref:n},p),{},{className:i()(c,x,s&&"bg-".concat(s),l&&"text-".concat(l),u&&"border-".concat(u)),children:f?(0,d.jsx)(g,{children:v}):v}))}));S.displayName="Card",S.defaultProps={body:!1};var P=Object.assign(S,{Img:m,Title:y,Subtitle:k,Body:g,Link:C,Text:w,Header:Z,Footer:T,ImgOverlay:I})}}]);
//# sourceMappingURL=299.f6e8a76c.chunk.js.map