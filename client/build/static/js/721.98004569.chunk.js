"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[721],{5310:function(e,n,t){t.d(n,{Z:function(){return c}});var r=t(885),a=t(1413),i=t(2791),o=t(8610),s=t(184),l=function(e,n){switch(n.type){case"CHANGE":return(0,a.Z)((0,a.Z)({},e),{},{value:n.val,isValid:(0,o.Gu)(n.val,n.validators)});case"TOUCH":return(0,a.Z)((0,a.Z)({},e),{},{isTouched:!0});default:return e}},c=function(e){var n=(0,i.useReducer)(l,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),t=(0,r.Z)(n,2),a=t[0],o=t[1],c=e.id,u=e.onInput,d=a.value,f=a.isValid;(0,i.useEffect)((function(){u(c,d,f)}),[c,d,f,u]);var p=function(n){o({type:"CHANGE",val:n.target.value,validators:e.validators})},h=function(){o({type:"TOUCH"})},m="input"===e.element?(0,s.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:p,onBlur:h,value:a.value}):(0,s.jsx)("textarea",{id:e.id,rows:e.rows||3,onChange:p,onBlur:h,value:a.value});return(0,s.jsxs)("div",{className:"form-control ".concat(!a.isValid&&a.isTouched&&"form-control--invalid"),children:[(0,s.jsx)("label",{htmlFor:e.id,children:e.label}),m,!a.isValid&&a.isTouched&&(0,s.jsx)("p",{children:e.errorText})]})}},2551:function(e,n,t){var r=t(885),a=t(2791),i=t(1087),o=t(5316),s=t(3360),l=t(184);n.Z=function(e){var n=(0,a.useState)(e.show),t=(0,r.Z)(n,2),c=t[0],u=t[1];return(0,l.jsxs)(o.Z,{show:c,onHide:function(){return u(!1)},variant:e.variant,children:[(0,l.jsx)(o.Z.Header,{closeButton:!0,children:(0,l.jsx)(o.Z.Title,{children:e.title})}),(0,l.jsx)(o.Z.Body,{children:e.body}),(0,l.jsxs)(o.Z.Footer,{children:[(0,l.jsx)(i.rU,{to:e.secondLink,children:(0,l.jsx)(s.Z,{variant:"secondary",onClick:function(){return u(!1)},children:e.btnSecondLink||"Close"})}),(0,l.jsx)(i.rU,{to:e.link,children:(0,l.jsx)(s.Z,{variant:"primary",onClick:function(){return u(!1)},children:e.btnLink})})]})]})}},9816:function(e,n,t){t.d(n,{c:function(){return l}});var r=t(885),a=t(4942),i=t(1413),o=t(2791),s=function(e,n){switch(n.type){case"INPUT_CHANGE":var t=!0;for(var r in e.inputs)e.inputs[r]&&(t=r===n.inputId?t&&n.isValid:t&&e.inputs[r].isValid);return(0,i.Z)((0,i.Z)({},e),{},{inputs:(0,i.Z)((0,i.Z)({},e.inputs),{},(0,a.Z)({},n.inputId,{value:n.value,isValid:n.isValid})),isValid:t});case"SET_DATA":return{inputs:n.inputs,isValid:n.formIsValid};default:return e}},l=function(e,n){var t=(0,o.useReducer)(s,{inputs:e,isValid:n}),a=(0,r.Z)(t,2),i=a[0],l=a[1];return[i,(0,o.useCallback)((function(e,n,t){l({type:"INPUT_CHANGE",value:n,isValid:t,inputId:e})}),[]),(0,o.useCallback)((function(e,n){l({type:"SET_DATA",inputs:e,formIsValid:n})}),[])]}},9721:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(2791),a=t(4165),i=t(5861),o=t(885),s=t(1665),l=t(2551),c=t(184);function u(e){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(l.Z,{show:e.show,title:"Profile update",body:"Woohoo, your user has been updated !",link:"/",btnLink:"Go back home"})})}var d=t(8287),f=t(5310),p=t(8610),h=function(e){var n=(0,r.useContext)(s.V).userId,t=(0,r.useState)(),l=(0,o.Z)(t,2),u=l[0],h=l[1],m=(0,d.x)().sendRequest;return(0,r.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m("".concat("https://help-pets-sos-backend.herokuapp.com/api","/users/").concat(n));case 3:t=e.sent,h(t.user),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,c.jsx)("div",{className:"container rounded bg-white mt-5 mb-5",children:(0,c.jsxs)("div",{className:"row",children:[(0,c.jsx)("div",{className:"col-md-3 border-right",children:(0,c.jsxs)("div",{className:"d-flex flex-column align-items-center text-center p-3 py-5",children:[(0,c.jsx)("img",{alt:"",className:"rounded-circle mt-5",width:"150px",src:"https://st3.depositphotos.com/15648834/17930/v/600/depositphotos_179308454-stock-illustration-unknown-person-silhouette-glasses-profile.jpg"}),(0,c.jsx)("span",{className:"font-weight-bold",children:u&&u.name}),(0,c.jsx)("span",{className:"text-black-50",children:u&&u.email}),(0,c.jsx)("span",{children:" "})]})}),(0,c.jsx)("div",{className:"col-md-8 border-right",children:(0,c.jsxs)("form",{className:"p-3 py-5",onSubmit:e.submitProfileHandler,children:[(0,c.jsx)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:(0,c.jsx)("h4",{className:"text-right",children:"Profile Settings"})}),(0,c.jsx)("div",{className:"row mt-3",children:e.inputs&&u&&e.inputs.map((function(n){return(0,c.jsx)("div",{className:"col-md-12",children:(0,c.jsx)(f.Z,{id:n,type:n,className:"form-control mt-1",placeholder:"Enter ".concat(n),onInput:e.inputHandler,element:"input",validators:[(0,p.hg)()],errorText:"Please enter a valid ".concat(n),label:"".concat(n.toUpperCase())},n)},n)}))}),(0,c.jsx)("div",{className:"mt-5 text-center",children:(0,c.jsx)("button",{className:"btn btn-primary profile-button",type:"submit",disabled:!e.isValid,children:"Save Profile"})})]})})]})})},m=t(9816),v=function(e){var n=(0,r.useContext)(s.V).userId,t=(0,d.x)().sendRequest,l=(0,r.useState)(!1),f=(0,o.Z)(l,2),p=f[0],v=f[1],b=(0,m.c)({name:{value:"",isValid:!1},phone:{value:"",isValid:!1},address:{value:"",isValid:!1}},!1),x=(0,o.Z)(b,2),Z=x[0],y=x[1],g=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,t("".concat("https://help-pets-sos-backend.herokuapp.com/api","/users/updateUser"),"POST",JSON.stringify({userId:n,name:Z.inputs.name.value,phone:Z.inputs.phone.value,address:Z.inputs.address.value}),{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"});case 4:v(!0),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}();return(0,c.jsxs)(c.Fragment,{children:[p&&(0,c.jsx)(u,{show:!0}),(0,c.jsx)(h,{inputHandler:y,inputs:e.inputs,isValid:Z.isValid,submitProfileHandler:g})]})},b=function(e){return(0,c.jsx)(v,{inputs:["name","phone","address"]})}},8610:function(e,n,t){t.d(n,{Gu:function(){return c},hg:function(){return l}});var r=t(7762),a="REQUIRE",i="MINLENGTH",o="MAXLENGTH",s="EMAIL",l=function(){return{type:a}},c=function(e,n){var t,l=!0,c=(0,r.Z)(n);try{for(c.s();!(t=c.n()).done;){var u=t.value;u.type===a&&(l=l&&e.trim().length>0),u.type===i&&(l=l&&e.trim().length>=u.val),u.type===o&&(l=l&&e.trim().length<=u.val),"MIN"===u.type&&(l=l&&+e>=u.val),"MAX"===u.type&&(l=l&&+e<=u.val),u.type===s&&(l=l&&/^\S+@\S+\.\S+$/.test(e))}}catch(d){c.e(d)}finally{c.f()}return l}},5316:function(e,n,t){t.d(n,{Z:function(){return B}});var r,a=t(885),i=t(5987),o=t(1413),s=t(1694),l=t.n(s),c=t(3070),u=t(7357),d=t(8376),f=t(6382);function p(e){if((!r&&0!==r||e)&&u.Z){var n=document.createElement("div");n.style.position="absolute",n.style.top="-9999px",n.style.width="50px",n.style.height="50px",n.style.overflow="scroll",document.body.appendChild(n),r=n.offsetWidth-n.clientWidth,document.body.removeChild(n)}return r}var h=t(8633),m=t(9007),v=t(3201),b=t(1683),x=t(3690),Z=t(2791),y=t(6137),g=t(5592),N=t(2709),j=t(6543),w=(0,j.Z)("modal-body"),k=t(9820),E=t(162),C=t(184),T=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],S=Z.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=e.contentClassName,s=e.centered,c=e.size,u=e.fullscreen,d=e.children,f=e.scrollable,p=(0,i.Z)(e,T);t=(0,E.vE)(t,"modal");var h="".concat(t,"-dialog"),m="string"===typeof u?"".concat(t,"-fullscreen-").concat(u):"".concat(t,"-fullscreen");return(0,C.jsx)("div",(0,o.Z)((0,o.Z)({},p),{},{ref:n,className:l()(h,r,c&&"".concat(t,"-").concat(c),s&&"".concat(h,"-centered"),f&&"".concat(h,"-scrollable"),u&&m),children:(0,C.jsx)("div",{className:l()("".concat(t,"-content"),a),children:d})}))}));S.displayName="ModalDialog";var V=S,I=(0,j.Z)("modal-footer"),A=t(8024),H=["bsPrefix","className"],F=Z.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,a=(0,i.Z)(e,H);return t=(0,E.vE)(t,"modal-header"),(0,C.jsx)(A.Z,(0,o.Z)((0,o.Z)({ref:n},a),{},{className:l()(r,t)}))}));F.displayName="ModalHeader",F.defaultProps={closeLabel:"Close",closeButton:!1};var P=F,R=(0,t(7472).Z)("h4"),D=(0,j.Z)("modal-title",{Component:R}),O=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","aria-describedby","aria-label","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],U={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:V};function M(e){return(0,C.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{timeout:null}))}function L(e){return(0,C.jsx)(N.Z,(0,o.Z)((0,o.Z)({},e),{},{timeout:null}))}var G=Z.forwardRef((function(e,n){var t=e.bsPrefix,r=e.className,s=e.style,N=e.dialogClassName,j=e.contentClassName,w=e.children,T=e.dialogAs,S=e["aria-labelledby"],V=e["aria-describedby"],I=e["aria-label"],A=e.show,H=e.animation,F=e.backdrop,P=e.keyboard,R=e.onEscapeKeyDown,D=e.onShow,U=e.onHide,G=e.container,B=e.autoFocus,_=e.enforceFocus,z=e.restoreFocus,K=e.restoreFocusOptions,W=e.onEntered,q=e.onExit,X=e.onExiting,J=e.onEnter,Q=e.onEntering,$=e.onExited,Y=e.backdropClassName,ee=e.manager,ne=(0,i.Z)(e,O),te=(0,Z.useState)({}),re=(0,a.Z)(te,2),ae=re[0],ie=re[1],oe=(0,Z.useState)(!1),se=(0,a.Z)(oe,2),le=se[0],ce=se[1],ue=(0,Z.useRef)(!1),de=(0,Z.useRef)(!1),fe=(0,Z.useRef)(null),pe=(0,h.Z)(),he=(0,a.Z)(pe,2),me=he[0],ve=he[1],be=(0,v.Z)(n,ve),xe=(0,m.Z)(U),Ze=(0,E.SC)();t=(0,E.vE)(t,"modal");var ye=(0,Z.useMemo)((function(){return{onHide:xe}}),[xe]);function ge(){return ee||(0,g.t)({isRTL:Ze})}function Ne(e){if(u.Z){var n=ge().getScrollbarWidth()>0,t=e.scrollHeight>(0,d.Z)(e).documentElement.clientHeight;ie({paddingRight:n&&!t?p():void 0,paddingLeft:!n&&t?p():void 0})}}var je=(0,m.Z)((function(){me&&Ne(me.dialog)}));(0,b.Z)((function(){(0,f.Z)(window,"resize",je),null==fe.current||fe.current()}));var we=function(){ue.current=!0},ke=function(e){ue.current&&me&&e.target===me.dialog&&(de.current=!0),ue.current=!1},Ee=function(){ce(!0),fe.current=(0,x.Z)(me.dialog,(function(){ce(!1)}))},Ce=function(e){"static"!==F?de.current||e.target!==e.currentTarget?de.current=!1:null==U||U():function(e){e.target===e.currentTarget&&Ee()}(e)},Te=(0,Z.useCallback)((function(e){return(0,C.jsx)("div",(0,o.Z)((0,o.Z)({},e),{},{className:l()("".concat(t,"-backdrop"),Y,!H&&"show")}))}),[H,Y,t]),Se=(0,o.Z)((0,o.Z)({},s),ae);Se.display="block";return(0,C.jsx)(k.Z.Provider,{value:ye,children:(0,C.jsx)(y.Z,{show:A,ref:be,backdrop:F,container:G,keyboard:!0,autoFocus:B,enforceFocus:_,restoreFocus:z,restoreFocusOptions:K,onEscapeKeyDown:function(e){P||"static"!==F?P&&R&&R(e):(e.preventDefault(),Ee())},onShow:D,onHide:U,onEnter:function(e,n){e&&Ne(e),null==J||J(e,n)},onEntering:function(e,n){null==Q||Q(e,n),(0,c.ZP)(window,"resize",je)},onEntered:W,onExit:function(e){null==fe.current||fe.current(),null==q||q(e)},onExiting:X,onExited:function(e){e&&(e.style.display=""),null==$||$(e),(0,f.Z)(window,"resize",je)},manager:ge(),transition:H?M:void 0,backdropTransition:H?L:void 0,renderBackdrop:Te,renderDialog:function(e){return(0,C.jsx)("div",(0,o.Z)((0,o.Z)({role:"dialog"},e),{},{style:Se,className:l()(r,t,le&&"".concat(t,"-static")),onClick:F?Ce:void 0,onMouseUp:ke,"aria-label":I,"aria-labelledby":S,"aria-describedby":V,children:(0,C.jsx)(T,(0,o.Z)((0,o.Z)({},ne),{},{onMouseDown:we,className:N,contentClassName:j,children:w}))}))}})})}));G.displayName="Modal",G.defaultProps=U;var B=Object.assign(G,{Body:w,Header:P,Title:D,Footer:I,Dialog:V,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},7762:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(181);function a(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=(0,r.Z)(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==t.return||t.return()}finally{if(l)throw o}}}}}}]);
//# sourceMappingURL=721.98004569.chunk.js.map